# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (auto_advance)

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —à–∞–≥–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ "Next", –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –Ω–∞–∂–∏–º–∞—Ç—å "Run tool".

## –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### Yeelight
- ‚úÖ `validate_device` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø–æ—Å–ª–µ –≤–≤–æ–¥–∞ IP –∏ –ø–æ—Ä—Ç–∞

### Xiaomi MiIO
- ‚úÖ `token_fetch` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- ‚úÖ `manual_validate` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ —Ä—É—á–Ω–æ–º –≤–≤–æ–¥–µ
- ‚úÖ `manual_autogen` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É (IP, –∏–º—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ —Ç.–¥.)
2. –ù–∞–∂–∏–º–∞–µ—Ç "Next"
3. –í–∏–¥–∏—Ç —ç–∫—Ä–∞–Ω "Validate device" —Å –∫–Ω–æ–ø–∫–æ–π "Run tool"
4. **–ù—É–∂–Ω–æ –Ω–∞–∂–∞—Ç—å "Run tool"** ‚Üê –ª–∏—à–Ω–∏–π –∫–ª–∏–∫
5. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
6. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –º–æ–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å

### –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É (IP, –∏–º—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ —Ç.–¥.)
2. –ù–∞–∂–∏–º–∞–µ—Ç "Next"
3. **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** ‚Üê –±–µ–∑ –ª–∏—à–Ω–∏—Ö –∫–ª–∏–∫–æ–≤
4. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

–í —Ñ–∞–π–ª–∞—Ö `setup.json` –¥–ª—è —à–∞–≥–æ–≤ —Ç–∏–ø–∞ `tool` –¥–æ–±–∞–≤–ª–µ–Ω —Ñ–ª–∞–≥ `"auto_advance": true`:

```json
{
    "id": "validate",
    "type": "tool",
    "title": "Validate device",
    "tool": "validate_device",
    "input": {
        "host": "{{ form.device_form.ip }}",
        "port": "{{ form.device_form.port }}"
    },
    "auto_advance": true,  // ‚Üê –≠—Ç–æ—Ç —Ñ–ª–∞–≥ –≤–∫–ª—é—á–∞–µ—Ç –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
    "optional": true
}
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- ‚ö° **–ë—ã—Å—Ç—Ä–µ–µ** - –º–µ–Ω—å—à–µ –∫–ª–∏–∫–æ–≤ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- üë• **–£–¥–æ–±–Ω–µ–µ** - –±–æ–ª–µ–µ –ø–ª–∞–≤–Ω—ã–π user experience
- üéØ **–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–µ–µ** - –Ω–µ –Ω—É–∂–Ω–æ –≥–∞–¥–∞—Ç—å, —á—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

## –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –Ω–æ–≤—ã—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤—ã—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `"auto_advance": true` –¥–ª—è tool —à–∞–≥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ:
1. –í—ã–ø–æ–ª–Ω—è—é—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤–≤–µ–¥–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞—é—Ç –¥–∞–Ω–Ω—ã–µ (—Ç–æ–∫–µ–Ω—ã, —Å–ø–∏—Å–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤)
3. –ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
4. –ù–µ —Ç—Ä–µ–±—É—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ** `auto_advance` –¥–ª—è:
- –î–µ–π—Å—Ç–≤–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –∏–∑–º–µ–Ω—è—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç–º–µ–Ω—ã
- –û–ø–µ—Ä–∞—Ü–∏–π, —Ç—Ä–µ–±—É—é—â–∏—Ö —è–≤–Ω–æ–≥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –î–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞—Ö–æ—Ç–µ—Ç—å –æ—Ç–ª–æ–∂–∏—Ç—å
