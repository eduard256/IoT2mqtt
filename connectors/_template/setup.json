{
    "version": "1.0.0",
    "display_name": "Template Connector",
    "description": "Starter template for new IoT2MQTT connectors.",
    "author": "IoT2MQTT",
    "tools": {
        "example": {
            "entry": "actions/example.py",
            "timeout": 5,
            "network": "none"
        }
    },
    "flows": [
        {
            "id": "default",
            "name": "Example flow",
            "default": true,
            "steps": [
                {
                    "id": "basics",
                    "type": "form",
                    "title": "Instance basics",
                    "schema": {
                        "fields": [
                            {
                                "type": "text",
                                "name": "friendly_name",
                                "label": "Friendly name",
                                "required": true
                            },
                            {
                                "type": "checkbox",
                                "name": "ha_discovery_enabled",
                                "label": "Enable Home Assistant Discovery",
                                "description": "Automatically publish device information to Home Assistant via MQTT Discovery",
                                "default": true,
                                "advanced": true
                            }
                        ]
                    }
                },
                {
                    "id": "example_tool",
                    "type": "tool",
                    "title": "Run example tool",
                    "tool": "example",
                    "auto_advance": true
                },
                {
                    "id": "create",
                    "type": "instance",
                    "instance": {
                        "friendly_name": "{{ form.basics.friendly_name }}",
                        "connector_type": "template",
                        "ha_discovery_enabled": "{{ form.basics.ha_discovery_enabled }}",
                        "config": {},
                        "devices": []
                    }
                }
            ]
        }
    ]
}
